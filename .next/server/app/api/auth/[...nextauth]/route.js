"use strict";(()=>{var e={};e.id=912,e.ids=[912],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},34261:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>A,originalPathname:()=>P,patchFetch:()=>O,requestAsyncStorage:()=>k,routeModule:()=>E,serverHooks:()=>j,staticGenerationAsyncStorage:()=>_,staticGenerationBailout:()=>I});var i={};r.r(i),r.d(i,{GET:()=>x,POST:()=>x});var a=r(95419),n=r(69108),s=r(99678),o=r(81355),u=r.n(o),l=r(86485);let c=require("firebase-admin/app"),d=require("firebase-admin/firestore"),p={userId:"user_id",sessionToken:"session_token",providerAccountId:"provider_account_id",emailVerified:"email_verified"},f={};for(let e in p)f[p[e]]=e;let m=e=>e;function w(e){return e?{toDb:e=>p[e]??e,fromDb:e=>f[e]??e}:{toDb:m,fromDb:m}}function h(e){let t=w(e?.preferSnakeCase??!1);return{toFirestore(e){let r={};for(let i in e){if("id"===i)continue;let a=e[i];void 0!==a?r[t.toDb(i)]=a:console.warn(`FirebaseAdapter: value for key "${i}" is undefined`)}return r},fromFirestore(r){let i=r.data(),a={};for(let n in e?.excludeId||(a.id=r.id),i){let e=i[n];e instanceof d.Timestamp&&(e=e.toDate()),a[t.fromDb(n)]=e}return a}}}async function y(e){let t=await e.limit(1).get();return t.docs[0]?.data()??null}async function v(e){for(let t of(await e.get()).docs)await t.ref.delete()}async function b(e){return(await e.get()).data()??null}var g=r(86194);let x=u()({adapter:function(e){let{db:t,namingStrategy:r="default"}=e instanceof d.Firestore?{db:e}:{...e,db:e?.firestore??function(e={}){let t=(0,c.getApps)(),r=e.name?t.find(t=>t.name===e.name):t[0];return r?(0,d.getFirestore)(r):(0,d.initializeFirestore)((0,c.initializeApp)(e,e.name))}(e)},i="snake_case"===r,a=function(e,t=!1){return{users:e.collection("users").withConverter(h({preferSnakeCase:t})),sessions:e.collection("sessions").withConverter(h({preferSnakeCase:t})),accounts:e.collection("accounts").withConverter(h({preferSnakeCase:t})),verification_tokens:e.collection(t?"verification_tokens":"verificationTokens").withConverter(h({preferSnakeCase:t,excludeId:!0}))}}(t,i),n=w(i);return{async createUser(e){let{id:t}=await a.users.add(e),r=await b(a.users.doc(t));if(!r)throw Error("[createUser] Failed to fetch created user");return r},getUser:async e=>await b(a.users.doc(e)),getUserByEmail:async e=>await y(a.users.where("email","==",e)),async getUserByAccount({provider:e,providerAccountId:t}){let r=await y(a.accounts.where("provider","==",e).where(n.toDb("providerAccountId"),"==",t));return r?await b(a.users.doc(r.userId)):null},async updateUser(e){if(!e.id)throw Error("[updateUser] Missing id");let t=a.users.doc(e.id);await t.set(e,{merge:!0});let r=await b(t);if(!r)throw Error("[updateUser] Failed to fetch updated user");return r},async deleteUser(e){await t.runTransaction(async t=>{let r=await a.accounts.where(n.toDb("userId"),"==",e).get(),i=await a.sessions.where(n.toDb("userId"),"==",e).get();t.delete(a.users.doc(e)),r.forEach(e=>t.delete(e.ref)),i.forEach(e=>t.delete(e.ref))})},async linkAccount(e){let t=await a.accounts.add(e);return await t.get().then(e=>e.data())??null},async unlinkAccount({provider:e,providerAccountId:t}){await v(a.accounts.where("provider","==",e).where(n.toDb("providerAccountId"),"==",t).limit(1))},async createSession(e){let t=await a.sessions.add(e),r=await t.get().then(e=>e.data());if(r)return r??null;throw Error("[createSession] Failed to fetch created session")},async getSessionAndUser(e){let t=await y(a.sessions.where(n.toDb("sessionToken"),"==",e));if(!t)return null;let r=await b(a.users.doc(t.userId));return r?{session:t,user:r}:null},async updateSession(e){let r=await t.runTransaction(async t=>{let r=(await t.get(a.sessions.where(n.toDb("sessionToken"),"==",e.sessionToken).limit(1))).docs[0];return r?.exists?(t.set(r.ref,e,{merge:!0}),r.id):null});if(!r)return null;let i=await b(a.sessions.doc(r));if(i)return i;throw Error("[updateSession] Failed to fetch updated session")},async deleteSession(e){await v(a.sessions.where(n.toDb("sessionToken"),"==",e).limit(1))},createVerificationToken:async e=>(await a.verification_tokens.add(e),e),async useVerificationToken({identifier:e,token:t}){let r=(await a.verification_tokens.where("identifier","==",e).where("token","==",t).limit(1).get()).docs[0];if(!r)return null;let i=r.data();return await r.ref.delete(),i}}}(g.i),providers:[(0,l.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email",placeholder:"jsmith@example.com"},password:{label:"Password",type:"password"}},async authorize(e,t){if(!e?.email||!e?.password)return null;let r=g.i.collection("users"),i=await r.where("email","==",e.email).get();if(i.empty){if("admin@innovativeit.com"===e.email&&"password"===e.password){let t={email:e.email,name:"Admin User",role:"ADMIN"};return{id:(await r.add(t)).id,...t}}if("client@example.com"===e.email&&"password"===e.password){let t={email:e.email,name:"Client User",role:"CLIENT",company:"Global Bank"};return{id:(await r.add(t)).id,...t}}return null}let a=null;return i.forEach(e=>{a={id:e.id,...e.data()}}),a}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.role=t.role,e.id=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.role=t.role,e.user.id=t.id),e)}}),E=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/Users/sriramtejasingaraju/Desktop/web_project_v2/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:k,staticGenerationAsyncStorage:_,serverHooks:j,headerHooks:A,staticGenerationBailout:I}=E,P="/api/auth/[...nextauth]/route";function O(){return(0,s.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:_})}},86194:(e,t,r)=>{let i;r.d(t,{i:()=>i});let a=require("firebase-admin");var n=r.n(a);let s={projectId:process.env.FIREBASE_PROJECT_ID||"dummy-project",clientEmail:process.env.FIREBASE_CLIENT_EMAIL||"dummy-client-email@dummy-project.iam.gserviceaccount.com",privateKey:(process.env.FIREBASE_PRIVATE_KEY||"-----BEGIN PRIVATE KEY-----\nMockKey123\n-----END PRIVATE KEY-----\n").replace(/\\n/g,"\n")};if(!n().apps.length)try{n().initializeApp({credential:n().credential.cert(s)})}catch(e){console.warn("Firebase Admin Initialization Warning: ",e)}try{n().auth(),i=n().firestore()}catch(e){console.warn("Firebase Admin services could not initialize: ",e),i={collection:()=>({where:()=>({get:async()=>({forEach:()=>{},empty:!0})}),add:async()=>({id:"mock-id"})})}}},77381:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},81355:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}});var a=r(77381);Object.keys(a).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}(r(49605));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))})},86485:(e,t)=>{t.Z=function(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}},95419:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[225,605],()=>r(34261));module.exports=i})();